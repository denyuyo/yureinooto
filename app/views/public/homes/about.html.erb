<div class="top" style="margin-top: 33px; font-family: 'DotGothic16', sans-serif; text-align: center; color: #787891;">
  <h1><i class="fas fa-list" style="color: #cd478e;"></i><i class="fas fa-space-shuttle" style="color: #5d49ab;"></i> é©åº¦ã«ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã£ã¦å¿«é©ãªä¸–ç•Œéºç”£ãƒ©ã‚¤ãƒ•ã‚’ï¼</h1>
</div>

<!-- å¼¾å¹• -->
<canvas id="canvas_text_animation"></canvas>

<script>
  window.addEventListener('load', function() {
    const canvas = document.getElementById('canvas_text_animation');
    canvas.height = 820;
    canvas.width = 1800;
    const ctx = canvas.getContext('2d');
    const commands = [
      'æ··é›‘ã—ã¦ã„ã‚‹å ´åˆã¯å…¥å ´åˆ¶é™ãŒã‚ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã®ã§ã€äº‹å‰ã«æƒ…å ±ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚',
      'ä¸–ç•Œéºç”£ã¯ä¿è­·ã•ã‚Œã‚‹ã¹ãè²´é‡ãªéºç”£ã§ã™ã®ã§ã€ç«‹ã¡å…¥ã‚Šç¦æ­¢ã®å ´æ‰€ã‚„å†™çœŸæ’®å½±ã®åˆ¶é™ãªã©ã‚’å®ˆã‚Šã¾ã—ã‚‡ã†ã€‚',
      'é•·æ™‚é–“æ­©ãã“ã¨ãŒå¤šã„ã®ã§ã€æ­©ãã‚„ã™ã„æœè£…ã¨é´ã‚’é¸ã¶ã“ã¨ãŒé‡è¦ã§ã™ã€‚å¤©å€™ã‚„åœ°å½¢ã«åˆã‚ã›ã¦æœè£…ã‚’èª¿æ•´ã—ã¾ã—ã‚‡ã†ã€‚',
      'ä¸–ç•Œéºç”£ã®ã„ãã¤ã‹ã¯åºƒå¤§ãªæ•·åœ°ã‚’æŒã£ã¦ãŠã‚Šã€æ­©ãè·é›¢ãŒé•·ã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ååˆ†ãªæ°´åˆ†ã‚’æ‘‚ã‚ŠãªãŒã‚‰ä½“èª¿ç®¡ç†ã‚’è¡Œã„ã¾ã—ã‚‡ã†ã€‚',
      'è¨ªã‚Œã‚‹å›½ã‚„åœ°åŸŸã®æ–‡åŒ–ã‚„ç¿’æ…£ã‚’å°Šé‡ã—ã€é©åˆ‡ãªãƒãƒŠãƒ¼ã‚„è¡Œå‹•ã‚’å¿ƒæ›ã‘ã¾ã—ã‚‡ã†ã€‚',
      'ä¸–ç•Œéºç”£ã«ã¯è±Šã‹ãªè‡ªç„¶ç’°å¢ƒã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ã‚´ãƒŸã‚’æŒã¡å¸°ã£ãŸã‚Šã€æ¤ç‰©ã‚„å‹•ç‰©ã«è§¦ã‚ŒãŸã‚Šã—ãªã„ã‚ˆã†ã«ã—ã€è‡ªç„¶ä¿è­·ã«å”åŠ›ã—ã¾ã—ã‚‡ã†ã€‚',
      'ğŸ‘',
      'ç¾åœ°ã®ã‚¬ã‚¤ãƒ‰ã‚„å°‚é–€å®¶ã®æ¡ˆå†…ã«å¾“ã†ã“ã¨ã§ã€ã‚ˆã‚Šæ·±ã„ç†è§£ã‚„æƒ…å ±ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€ã‚°ãƒ«ãƒ¼ãƒ—ã§ã®è¦³å…‰ã¯å®‰å…¨æ€§ã‚„æ¥½ã—ã•ã®é¢ã§ã‚‚ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚',
      'ä¸€éƒ¨ã®ä¸–ç•Œéºç”£ã¯å­£ç¯€ã‚„å¤©å€™ã«ã‚ˆã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã‚„å–¶æ¥­æ™‚é–“ãŒå¤‰å‹•ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚è¨ªã‚Œã‚‹å‰ã«å–¶æ¥­æƒ…å ±ã‚„æœ€é©ãªæ™‚æœŸã‚’èª¿ã¹ã¾ã—ã‚‡ã†ã€‚',
      'ä¸–ç•Œéºç”£ã¯ç¾ã—ã„æ™¯è¦³ã‚„æ­´å²çš„ãªä¾¡å€¤ã‚’æŒã£ã¦ã„ã¾ã™ã®ã§ã€æ€ã„å‡ºã«æ®‹ã‚‹å†™çœŸã‚„ä½“é¨“ã‚’æ¥½ã—ã¿ã¾ã—ã‚‡ã†ã€‚ãŸã ã—ã€å†™çœŸæ’®å½±ã®éš›ã«ä»–ã®è¦³å…‰å®¢ã‚„ç’°å¢ƒã«é…æ…®ã—ã¾ã—ã‚‡ã†ã€‚',
    ];

    // LineManagerå®Ÿè£…
    class LineManager {
      constructor(maxLines) {
        this.lines = [];
        this.texts = [];
        for (let i = 0; i < maxLines; i++) {
          this.lines.push(new Line(i));
        }
      }
      push(text) {
        if (text) {
          this.texts.push(text);
        }
      }
      update() {
        if (this.texts.length > 0) {
          for (let i = 0; i < this.texts.length; i++) {
            // ä½¿ãˆã‚‹Lineã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã™ã‚‹
            const line = this.getPushEnableLine();
            // ä½¿ãˆã‚‹Lineã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹
            if (line) {
              line.push(this.texts[i]);
              this.texts.splice(i, 1);
              i--;
            }
          }
        }
        for (const line of this.lines) {
          line.update();
        }
      }
      draw(context) {
        for (const line of this.lines) {
          line.draw(context);
        }
      }
      getPushEnableLine() {
        for (const line of this.lines) {
          if (line.getPushEnable()) {
            return line;
          }
        }
        return undefined;
      }
    }

    // Lineã‚¯ãƒ©ã‚¹å®Ÿè£…
    class Line {
      constructor(index) {
        // Lineã®è¡Œç•ª
        this.index = index;
        // Lineã®é«˜ã•
        this.lineHeight = 40;
        this.textEnemies = [];
      }
      push(text) {
        const textEnemy = new TextEnemy(
          text,
          (this.index + 1) * (this.lineHeight + 30),
          canvas.width,
          canvas.height
        );
        this.textEnemies.push(textEnemy);
      }
      update() {
        this.textEnemies = this.textEnemies.filter((e) => !e.markForDeletion);
        for (const textEnemy of this.textEnemies) {
          textEnemy.update();
        }
      }
      draw(context) {
        for (const textEnemy of this.textEnemies) {
          textEnemy.draw(context);
        }
      }
      getPushEnable() {
        if (this.textEnemies.length > 0) {
          return this.textEnemies[this.textEnemies.length - 1].hasFinishedShowed();
        }
        return true;
      }
    }

    // å¼¾å¹•ã‚¯ãƒ©ã‚¹å®Ÿè£…ã™ã‚‹
    class TextEnemy {
      constructor(text, y, screenWidth, screenHeight) {
        // å¼¾å¹•é–‹å§‹ã®ä½ç½®è¨­å®šã™ã‚‹
        this.x = screenWidth + Math.random() * 200; // ãƒ©ãƒ³ãƒ€ãƒ ãªåˆæœŸå€¤ã‚’è¨­å®š
        this.y = y;

        // é•·ã•ã¨é«˜ã•ã€è¨˜éŒ²ã™ã‚‹ã‚ˆã†ã«å¤‰æ•°ã‚’å®£è¨€ã™ã‚‹
        this.height = 30;
        this.width = 0;

        // screenã®ã‚µã‚¤ã‚ºè¨˜éŒ²ã™ã‚‹
        this.screenWidth = screenWidth;
        this.screenHeight = screenHeight;

        // ã“ã®å¼¾å¹•ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’è¨­å®šã™ã‚‹
        this.speed = -2;

        //å¼¾å¹•è‰²ãƒ©ãƒ³ãƒ€ãƒ ã«ã™ã‚‹
        this.color = 'rgb('+Math.random()*255+','+Math.random()*255+','+Math.random()*255+')';

        // æ–‡å­—ã‚µã‚¤ã‚º
        this.fontSize = 44;
        this.font = this.fontSize + 'px \'DotGothic16\', sans-serif';

        // å¼¾å¹•å†…å®¹
        this.text = text;

        // å‰Šé™¤ç”¨ãƒ•ãƒ©ã‚°
        this.markForDeletion = false;

        // æ¬¡ã®å¼¾å¹•ã¨ã‚¹ãƒšãƒ¼ã‚¹
        this.nextSpace = 50000;

      }
      hasFinishedShowed() {
        return this.x < this.screenWidth - this.width - this.nextSpace;
      }
      update() {
        this.x += this.speed;
        if (this.x < -this.width) {
          this.markForDeletion = true;
        }
      }
      draw(context) {
        context.save();
        context.font = this.font;
        context.fillStyle = this.color;
        context.fillText(this.text, this.x, this.y);
        if (this.text && this.width === 0) {
          let metrics = context.measureText(this.text);
          this.width = metrics.width;
        }
        context.restore();
      }
    }

    //LineManagerã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ–°è¦ã™ã‚‹ã€€æœ€å¤§è¡Œæ•°ã‚’8ã‚’è¨­å®šã™ã‚‹
    const lineManager = new LineManager(8);
    let lastTime = 0;
    // å¼¾å¹•ç™ºå°„ã‚¹ãƒ”ãƒ¼ãƒ‰
    let createTextInterval = 50;
    function animate(timeStamp) {
      if (timeStamp - lastTime > createTextInterval) {
        lineManager.push(commands[Math.floor(Math.random() * 11)]);
        lastTime = timeStamp;
      }
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      lineManager.update();
      lineManager.draw(ctx);
      requestAnimationFrame(animate);
    }
    animate(0);
  });
</script>

<style>
  /* å¼¾å¹• */
  #canvas_text_animation {
    position: absolute;
    top: 50%;
    left: 50%;
    background-color: #b6dae7;
    border-radius: 60px;
  ã€€opacity: 1; /* ã‚­ãƒ£ãƒ³ãƒã‚¹ãŒé€æ˜ã§ãªã„ã“ã¨ã‚’ç¢ºèª */
    transform: translate(-50%, -50%);
    max-height: 100%;
    max-width: 100%;
  }

  @media (max-width: 748px) {
    #canvas_text_animation {
    position: absolute;
    top: 50%;
    left: 50%;
    background-color: #b6dae7;
    border-radius: 60px;
  ã€€opacity: 1; /* ã‚­ãƒ£ãƒ³ãƒã‚¹ãŒé€æ˜ã§ãªã„ã“ã¨ã‚’ç¢ºèª */
    transform: translate(-50%, -50%);
    max-height: 100%;
    max-width: 100%;
    }
  }
</style>